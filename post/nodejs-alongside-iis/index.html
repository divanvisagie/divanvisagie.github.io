<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Running Node.js Alongside IIS on Windows - Divan Visagie</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0"
    />
    <meta name="description" content="Running Node.js Alongside IIS on Windows - Using Reverse Proxy for Flexibility" />
    <meta property="og:description" content="Running Node.js Alongside IIS on Windows - Using Reverse Proxy for Flexibility" />
    <meta property="og:title" content="Running Node.js Alongside IIS on Windows" />
    <meta name="twitter:title" content="Running Node.js Alongside IIS on Windows" />
    <meta name="author" content="Divan Visagie" />
    <link href="/favicon.ico" rel="icon" type="image/x-icon" />
    <meta property="og:image" content="https://divanv.com/post/nodejs-alongside-iis/step1.png" />
    <meta name="twitter:image" content="https://divanv.com/post/nodejs-alongside-iis/step1.png" />
    <meta name="twitter:card" content="summary" />
    <meta property="og:url" content="/" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Divan Visagie" />

    <meta name="generator" content="Custom" />
    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="stylesheet" href="/css/highlight.min.css" />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/katex.min.css" />
  </head>

  <body>
    <nav>
      <div>
        <h1>
          <a href="/">Divan <span class="full">Visagie</span></a><a class="home-tilde" href="/">/~</a>
        </h1>

        <div class="links">
          <h2>
            <a href="/post">Posts</a>
          </h2>
          <h2>
            <a href="/about">About</a>
          </h2>
        </div>
      </div>
    </nav>

    <div class="content"><div class="post-content"><h1 class="title">Running Node.js Alongside IIS on Windows</h1>
<h2 class="subtitle">Using Reverse Proxy</h2>
<span class="date">2013-02-15</span>
<span class="updated">Updated 2025-12-31 · <a href="https://github.com/divanvisagie/blog/blob/1f8c246356472a11e0d32f34edd6a2ad898677ad/content/post/nodejs-alongside-iis/index.md" target="_blank" rel="noopener">1f8c246</a></span>
<p>So you want to run a node server as a production server on windows, but IIS is running on the machine and taking up port 80. You have probably heard of IISNode, and while it seems to work well, I was not happy with the idea of having to use XML to configure it and not being able to have any flexibility over which ports I use.</p>
<p>My solution was to set up IIS as a reverse proxy to a node process. This way I get load balancing, scaling etc and I am not bound to doing it the IIS way.</p>
<h2>Step 1</h2>
<p>First download ARR (Application Request Routing) and URL Rewrite for IIS.</p>
<p>Once you have these installed, open IIS and go into Application Request Routing in Server Proxy Settings and check Enable Proxy.</p>
<p><img src="step1.png" alt="Enable proxy in ARR settings"></p>
<h2>Step 2</h2>
<p>Create an application on your Default Website that points to an empty directory. This directory will house the config file.</p>
<p><img src="step2.png" alt="Create application"></p>
<h2>Step 3</h2>
<p>Open URL Rewrite and select Add Rules, then add a Reverse Proxy.</p>
<p><img src="step3.png" alt="Add reverse proxy rule"></p>
<h2>Step 4</h2>
<p>Enter the address and port where the node process is running, in this example I used 127.0.0.1 and the port 8080.</p>
<p><img src="step4.png" alt="Configure proxy destination"></p>
<p><img src="result.png" alt="Success"></p>
<h2>Running Node as a Service</h2>
<p>You probably don't want to just run the node process in a terminal and leave it, so I recommend using <a href="https://github.com/jfromaniello/winser">Winser</a> in order to run node as a Windows service.</p>
<h2>Troubleshooting</h2>
<p>I had some issues with permissions on the folder. Something was causing the browser to just hang. I moved the application to a different application pool. At this point I'm not sure if it was specifically the pool or if I had also changed some permissions at the same time, but the problem went away.</p>
<hr>
<p><em>Originally posted on <a href="https://dvisagie.blogspot.com/2013/02/running-nodejs-alongside-iis-on-windows.html">Blogspot</a></em></p>
</div>
</div>

    <footer>
      Divan Visagie • Copyright 2019-25 •
      <a href="mailto:me@divanv.com">me@divanv.com</a> •
      <span><a href="/cv">CV</a></span> •
      <span><a href="https://github.com/divanvisagie">GitHub</a></span> •
      <span><a href="/pman">pman</a></span> •
      <span><a href="/mdsql">mdsql</a></span> •
      <span><a href="/fretboard">Fretboard</a></span> •
      <span><a href="/weather">Weather</a></span>
    </footer>

    <script src="/js/mermaid.min.js"></script>
    <script src="/js/katex.min.js"></script>
    <script src="/js/katex-auto-render.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
          ]
        });
      });
    </script>
    <script src="/js/index.js"></script>
  </body>
</html>
